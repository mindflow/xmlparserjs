<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html>
<html>

  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <script type="text/javascript" src="domParser-browser.js"> </script>
  </head>
  <body>
    <div id="test">

    </div>
    <script type="text/javascript">

            function ElementCreatedListener(){}
            ElementCreatedListener.prototype.elementCreated = function(element) {
                if(element.attributeValueOf('id') == '1'){
                    element.value = 'changed';
                }
            };

            var listener = new ElementCreatedListener();
            domTree = new xmlParser.DomTree(
                '<div test2 test3= "" test ="123"><span id="1">Hello &amp; world</span><p><br hello = "true" hello2/>Hello<br/></p><span>World</span> </div>',
                listener
            );
            var now = new Date();
            console.log('Start parsing ' + now.getTime());
            domTree.load();
            now = new Date();
            console.log('End parsing ' + now.getTime());
            value  = domTree.read();
            now = new Date();
            console.log('Read ' + now.getTime());


            document.getElementById('test').innerHTML = value;

            console.log(value);
            domTree.dump();
    </script>
  </body>
</html>
